<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<script>
  window.addEventListener('load', async () => {

    const img = document.getElementById('img');
    const res = await fetch(img.src);
    const data = await res.text();
    const question =
      '\\s*\\.([\\w-]+)\\s*' +
      '{[^}]*fill\\s*:\\s*#(\\w+)\\s*;[^}]*}';
    const query = new RegExp(question, 'gm');
    const colorList = [];

    let match = query.exec(data);
    while (match !== null) {
      const name = match[1];
      const color = match[2];
      colorList.push({name, color});
      match = query.exec(data);
    }

    const canvas = document.getElementById('wheel').getContext('2d');
    canvas.fillStyle = '#f00';
    canvas.fillRect(0, 0, 20, 20);
    console.log(canvas);
  }, false);
</script>
<style>
body { margin: 0; }
.container {
  display: grid;
  justify-content: center;
  grid-template-columns: 40vmax 40vmax;
}
#img {
  width: 100%;
  height: 100%;
}
#wheel {
  width: 100%;
  height: 100%;
  background-color: green;
}
</style>
</head>
<body>
  <div class="container">
    <img id="img" src="./color-scheme.svg"></img>
    <canvas id="wheel" width=100 height=100></canvas>
  </div>
</body>
</html>
